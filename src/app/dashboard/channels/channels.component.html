<section
  (click)="toggleOverlay()"
  class="overlay"
  [ngClass]="{ 'd-none': !overlayActivated }"
>
  <div
    [ngClass]="{ 'd-none-desktop': switchOverlay }"
    click-stop-propagation
    class="create-channel create-channel-desktop"
  >
    <div>
      <h3>Channel erstellen</h3>
      <div>
        <svg
          (click)="toggleOverlay()"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <mask
            id="mask0_153677_6137"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="24"
            height="24"
          >
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_153677_6137)">
            <path
              d="M12 13.4L7.09999 18.3C6.91665 18.4833 6.68332 18.575 6.39999 18.575C6.11665 18.575 5.88332 18.4833 5.69999 18.3C5.51665 18.1167 5.42499 17.8833 5.42499 17.6C5.42499 17.3167 5.51665 17.0833 5.69999 16.9L10.6 12L5.69999 7.09999C5.51665 6.91665 5.42499 6.68332 5.42499 6.39999C5.42499 6.11665 5.51665 5.88332 5.69999 5.69999C5.88332 5.51665 6.11665 5.42499 6.39999 5.42499C6.68332 5.42499 6.91665 5.51665 7.09999 5.69999L12 10.6L16.9 5.69999C17.0833 5.51665 17.3167 5.42499 17.6 5.42499C17.8833 5.42499 18.1167 5.51665 18.3 5.69999C18.4833 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4833 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4833 17.0833 18.575 17.3167 18.575 17.6C18.575 17.8833 18.4833 18.1167 18.3 18.3C18.1167 18.4833 17.8833 18.575 17.6 18.575C17.3167 18.575 17.0833 18.4833 16.9 18.3L12 13.4Z"
              fill="black"
            />
          </g>
        </svg>
      </div>
    </div>

    <span>
      Channels dienen deinem Team zur Kommunikation. Am besten sollten sie
      themenbezogen sein #marketing zum Beispiel.</span
    >
    <h4>Channel-Name</h4>
    <div class="channel-name">
      <h2>#</h2>
      <input
        [(ngModel)]="newChannel"
        type="text"
        placeholder="z.B. Kooperationsprojekte"
      />
    </div>
    <h4>
      Beschreibung
      <h4>(optional)</h4>
    </h4>
    <div class="channel-description">
      <input
        [(ngModel)]="newChannelDescription"
        type="text"
        placeholder="Dein Text hier"
      />
    </div>
    <div class="channel-create-one">
      <button [disabled]="newChannel.length === 0" [class.disabled-button]="newChannel.length === 0" (click)="switchOverlay = true; createNewChannel()">
        Erstellen
      </button>
    </div>
  </div>


  <div
    click-stop-propagation
    class="create-channel create-channel-mobile"
  >

    <div>
      <h3>Channel erstellen</h3>
      <div>
        <svg
          (click)="toggleOverlay()"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <mask
            id="mask0_153677_6138"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="24"
            height="24"
          >
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_153677_6138)">
            <path
              d="M12 13.4L7.09999 18.3C6.91665 18.4833 6.68332 18.575 6.39999 18.575C6.11665 18.575 5.88332 18.4833 5.69999 18.3C5.51665 18.1167 5.42499 17.8833 5.42499 17.6C5.42499 17.3167 5.51665 17.0833 5.69999 16.9L10.6 12L5.69999 7.09999C5.51665 6.91665 5.42499 6.68332 5.42499 6.39999C5.42499 6.11665 5.51665 5.88332 5.69999 5.69999C5.88332 5.51665 6.11665 5.42499 6.39999 5.42499C6.68332 5.42499 6.91665 5.51665 7.09999 5.69999L12 10.6L16.9 5.69999C17.0833 5.51665 17.3167 5.42499 17.6 5.42499C17.8833 5.42499 18.1167 5.51665 18.3 5.69999C18.4833 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4833 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4833 17.0834 18.575 17.3167 18.575 17.6C18.575 17.8834 18.4833 18.1167 18.3 18.3C18.1167 18.4834 17.8833 18.575 17.6 18.575C17.3167 18.575 17.0833 18.4834 16.9 18.3L12 13.4Z"
              fill="black"
            />
          </g>
        </svg>
      </div>
    </div>

    <span>
      Channels dienen deinem Team zur Kommunikation. Am besten sollten sie
      themenbezogen sein #marketing zum Beispiel.</span
    >
    <h4>Channel-Name</h4>
    <div class="channel-name">
      <h2>#</h2>
      <input
        [(ngModel)]="newChannelMobile"
        type="text"
        placeholder="z.B. Kooperationsprojekte"
      />
    </div>
    <h4>
      Beschreibung
      <h4>(optional)</h4>
    </h4>
    <div class="channel-description">
      <input
        [(ngModel)]="newChannelDescriptionMobile"
        type="text"
        placeholder="Dein Text hier"
      />
    </div>
    <div class="channel-create-one">
      <button [disabled]="newChannelMobile.length === 0" [class.disabled-button]="newChannelMobile.length === 0" (click)="switchOverlay = true; createNewChannelMobile()">
        Erstellen
      </button>
    </div>
  </div>

  <div
    click-stop-propagation
    [ngClass]="{ 'd-none': !switchOverlay }"
    class="add-channel-member"
  >
  <svg
    class="svg-dropdown-mobile"
    (click)="switchOverlay = false"
      width="62"
      height="6"
      viewBox="0 0 62 6"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="62" height="6" rx="3" fill="#D9D9D9" />
    </svg>
    <div>
      <h3>Leute hinzuf端gen</h3>
      <div>
        <svg
          (click)="toggleOverlay(); switchOverlay = false"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <mask
            id="mask0_153677_6137"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="24"
            height="24"
          >
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_153677_6137)">
            <path
              d="M12 13.4L7.09999 18.3C6.91665 18.4833 6.68332 18.575 6.39999 18.575C6.11665 18.575 5.88332 18.4833 5.69999 18.3C5.51665 18.1167 5.42499 17.8833 5.42499 17.6C5.42499 17.3167 5.51665 17.0833 5.69999 16.9L10.6 12L5.69999 7.09999C5.51665 6.91665 5.42499 6.68332 5.42499 6.39999C5.42499 6.11665 5.51665 5.88332 5.69999 5.69999C5.88332 5.51665 6.11665 5.42499 6.39999 5.42499C6.68332 5.42499 6.91665 5.51665 7.09999 5.69999L12 10.6L16.9 5.69999C17.0833 5.51665 17.3167 5.42499 17.6 5.42499C17.8833 5.42499 18.1167 5.51665 18.3 5.69999C18.4833 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4833 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4833 17.0833 18.575 17.3167 18.575 17.6C18.575 17.8833 18.4833 18.1167 18.3 18.3C18.1167 18.4833 17.8833 18.575 17.6 18.575C17.3167 18.575 17.0833 18.4833 16.9 18.3L12 13.4Z"
              fill="black"
            />
          </g>
        </svg>
      </div>
    </div>
    <div>
      <div>
        <input
          type="radio"
          id="all-members"
          value="all-members"
          name="add-members"
          (change)="onChange($event)"
        />
        <label for="all-members"
          >Alle Mitglieder von
          <h3>Entwicklerteam</h3>
          hinzuf端gen</label
        ><br />
      </div>
      <div>
        <input
          type="radio"
          id="specific-members"
          value="specific-members"
          name="add-members"
          (change)="onChange($event)"
        />
        <label for="specific-members">Bestimmte Leute hinzuf端gen</label><br />
      </div>
      <div
        (click)="onDivClick($event)"
        [ngClass]="{ 'd-none': selectedValue === 'all-members' }"
        class="members-list no-scrollbar"
      >
        <div>
          <div
            [ngClass]="{ 'd-none': inputFocused }"
            *ngFor="let channelUser of selectedChannelUsers; let i = index"
          >
            <img [src]="channelUser.avatar" [alt]="channelUser.name" />
            <p>{{ channelUser.name }}</p>
            <div>
              <svg
                (click)="deleteMember(i)"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <mask
                  id="mask0_153677_6137"
                  style="mask-type: alpha"
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="0"
                  width="24"
                  height="24"
                >
                  <rect width="24" height="24" fill="#D9D9D9" />
                </mask>
                <g mask="url(#mask0_153677_6137)">
                  <path
                    d="M12 13.4L7.09999 18.3C6.91665 18.4833 6.68332 18.575 6.39999 18.575C6.11665 18.575 5.88332 18.4833 5.69999 18.3C5.51665 18.1167 5.42499 17.8833 5.42499 17.6C5.42499 17.3167 5.51665 17.0833 5.69999 16.9L10.6 12L5.69999 7.09999C5.51665 6.91665 5.42499 6.68332 5.42499 6.39999C5.42499 6.11665 5.51665 5.88332 5.69999 5.69999C5.88332 5.51665 6.11665 5.42499 6.39999 5.42499C6.68332 5.42499 6.91665 5.51665 7.09999 5.69999L12 10.6L16.9 5.69999C17.0833 5.51665 17.3167 5.42499 17.6 5.42499C17.8833 5.42499 18.1167 5.51665 18.3 5.69999C18.4833 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4833 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4833 17.0833 18.575 17.3167 18.575 17.6C18.575 17.8833 18.4833 18.1167 18.3 18.3C18.1167 18.4833 17.8833 18.575 17.6 18.575C17.3167 18.575 17.0833 18.4833 16.9 18.3L12 13.4Z"
                    fill="black"
                  />
                </g>
              </svg>
            </div>
          </div>
          <input
            id="member-input"
            [(ngModel)]="inputValue"
            #inputEl
            (focus)="onFocus()"
            (blur)="onBlur()"
            (input)="onInputChange($any($event.target).value)"
            type="text"
            placeholder="Name eingeben"
          />
        </div>
      </div>
      <div
        class="member-wrapper no-scrollbar"
        [ngClass]="{ 'd-none': !nameInputValue }"
      >
        <div
          *ngFor="let channelUser of channelUsers; let i = index"
          [id]="'channel-user-' + channelUser.uid"
          [class.d-none]="!foundIndexes.includes(i)"
          (click)="addUserToChannel(i)"
        >
          <article>
            <figure class="user-avatar">
              <img [src]="channelUser.avatar" [alt]="channelUser.name" />
              @if (channelUser.status) {
              <img src="./../../../assets/img/online.png" alt="" />
              } @else {
              <img src="./../../../assets/img/offline.svg" alt="" />
              }
            </figure>
            <p>{{ channelUser.name }}</p>
          </article>
        </div>
      </div>
      <div>
        <button
        [disabled]="selectedChannelUsers.length === 0"
        [class.disabled-button]="selectedChannelUsers.length === 0"
          (click)="
            switchOverlay = false; overlayActivated = false; addMembers()
          "
        >
          Erstellen
        </button>
      </div>
    </div>
  </div>
</section>

<div class="d-none search-bar-channels search-wrapper">
  <div
    *ngFor="let recipient of recipient; let i = index"
  >
    @if (recipient.type === 'user') {
      <img src="{{ recipient.avatar }}" [alt]="recipient.name" />
      <p>{{ recipient.name }}</p>
    } @else if (recipient.type === 'channel') {
      <p>{{ recipient.name }}</p>
    }
    <div>
      <svg
        (click)="removeRecipient()"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_153677_6137"
          style="mask-type: alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="24"
          height="24"
        >
          <rect width="24" height="24" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_153677_6137)">
          <path
            d="M12 13.4L7.09999 18.3C6.91665 18.4833 6.68332 18.575 6.39999 18.575C6.11665 18.575 5.88332 18.4833 5.69999 18.3C5.51665 18.1167 5.42499 17.8833 5.42499 17.6C5.42499 17.3167 5.51665 17.0833 5.69999 16.9L10.6 12L5.69999 7.09999C5.51665 6.91665 5.42499 6.68332 5.42499 6.39999C5.42499 6.11665 5.51665 5.88332 5.69999 5.69999C5.88332 5.51665 6.11665 5.42499 6.39999 5.42499C6.68332 5.42499 6.91665 5.51665 7.09999 5.69999L12 10.6L16.9 5.69999C17.0833 5.51665 17.3167 5.42499 17.6 5.42499C17.8833 5.42499 18.1167 5.51665 18.3 5.69999C18.4833 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4833 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4833 17.0833 18.575 17.3167 18.575 17.6C18.575 17.8833 18.4833 18.1167 18.3 18.3C18.1167 18.4833 17.8833 18.575 17.6 18.575C17.3167 18.575 17.0833 18.4833 16.9 18.3L12 13.4Z"
            fill="black"
          />
        </g>
      </svg>
    </div>
  </div>
  <input
    [(ngModel)]="recipientInput"
    (keyup.enter)="searchMsg(users, channels)"
    (input)="onInputChange($any($event.target).value)"
    autocomplete="off"
    type="text"
    placeholder="Devspace durchsuchen"
    class="search-input"
  />

  <img
    (click)="searchMsg(users, channels)"
    src="./../../../assets/img/search.svg"
    alt="Search"
    class="search-icon"
  />
  <div #searchResult class="no-display" id="search-results-2">
    <ng-container *ngIf="foundMessages.length > 0; else noResults" >
      <div *ngFor="let messages of foundMessages" (click)="openFoundMessage(messages)">
        <small *ngIf="messages.channelId">
          #{{ getChannelName(messages.channelId)  }}
        </small>

        <small *ngIf="messages.whisperId">
          Direktnachricht mit {{ getWhisperName(messages.whisperId) }}
        </small>

        <p class="text">{{ messages.user + ": " + messages.text }}</p>
      </div>
    </ng-container>

    <ng-template #noResults>
      <p class="no-results">Keine Ergebnisse gefunden</p>
    </ng-template>
  </div>
  <div class="no-display" id="search-results-contacts-2" *ngIf="recipient.length == 0">
    <ng-container *ngFor="let user of filteredUsers">
      <div
        *ngIf="user.name"
        (click)="addRecipient(user.uid, user.name, user.email, user.avatar)"
      >
        <article>
          <figure class="user-avatar">
            <img [src]="user.avatar" [alt]="user.name" />

            @if (user.status) {
              <img src="./../../../assets/img/online.png" alt="" />
            } @else {
              <img src="./../../../assets/img/offline.svg" alt="" />
            }
          </figure>

          <p>{{ user.name }}</p>
        </article>
      </div>
    </ng-container>
  </div>
  <div class="no-display" id="search-results-channels-2" *ngIf="recipient.length == 0">
    <ng-container *ngFor="let channel of filteredChannels">
      <div
        (click)="addChannelRecipient(channel.id, channel.name)"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <mask
            id="mask0_157289_4664"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="24"
            height="24"
          >
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_157289_4664)">
            <path
              d="M7.22504 20.325C6.7917 20.325 6.45004 20.1623 6.20004 19.837C5.95004 19.5123 5.87504 19.1417 5.97504 18.725L6.57504 16.325H4.77504C4.34171 16.325 3.9917 16.1583 3.72504 15.825C3.45837 15.4917 3.38337 15.1083 3.50004 14.675C3.58337 14.3917 3.7417 14.154 3.97504 13.962C4.20837 13.7707 4.47504 13.675 4.77504 13.675H7.25004L8.07504 10.325H5.77504C5.3417 10.325 4.9917 10.1583 4.72504 9.82499C4.45837 9.49165 4.38337 9.10832 4.50004 8.67499C4.58337 8.39165 4.7417 8.15432 4.97504 7.96299C5.20837 7.77099 5.47504 7.67499 5.77504 7.67499H8.75004L9.50004 4.64999C9.58337 4.36665 9.74171 4.13332 9.97504 3.94999C10.2084 3.76665 10.475 3.67499 10.775 3.67499C11.2084 3.67499 11.55 3.83732 11.8 4.16199C12.05 4.48732 12.125 4.85832 12.025 5.27499L11.425 7.67499H14.75L15.5 4.64999C15.5834 4.36665 15.7417 4.13332 15.975 3.94999C16.2084 3.76665 16.475 3.67499 16.775 3.67499C17.2084 3.67499 17.55 3.83732 17.8 4.16199C18.05 4.48732 18.125 4.85832 18.025 5.27499L17.425 7.67499H19.225C19.6584 7.67499 20.0084 7.84165 20.275 8.17499C20.5417 8.50832 20.6167 8.89165 20.5 9.32499C20.4167 9.60832 20.2584 9.84565 20.025 10.037C19.7917 10.229 19.525 10.325 19.225 10.325H16.75L15.925 13.675H18.225C18.6584 13.675 19.0084 13.8417 19.275 14.175C19.5417 14.5083 19.6167 14.8917 19.5 15.325C19.4167 15.6083 19.2584 15.846 19.025 16.038C18.7917 16.2293 18.525 16.325 18.225 16.325H15.25L14.5 19.35C14.4167 19.6333 14.2584 19.8667 14.025 20.05C13.7917 20.2333 13.525 20.325 13.225 20.325C12.7917 20.325 12.45 20.1623 12.2 19.837C11.95 19.5123 11.875 19.1417 11.975 18.725L12.575 16.325H9.25004L8.50004 19.35C8.4167 19.6333 8.25837 19.8667 8.02504 20.05C7.7917 20.2333 7.52504 20.325 7.22504 20.325ZM9.92504 13.675H13.25L14.075 10.325H10.75L9.92504 13.675Z"
              fill="black"
            />
          </g>
        </svg>

        <h3>
          {{ channel.name.charAt(0).toUpperCase() + channel.name.slice(1) }}
        </h3>
      </div>
    </ng-container>
  </div>
</div>

<header>
  <div>
    <div>
      <svg
        width="36"
        height="24"
        viewBox="0 0 36 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.4 21.552L8.448 18.588L24.348 2.70001L27.3 5.65201L11.4 21.552Z"
          fill="url(#paint0_linear_153722_8269)"
        />
        <path
          d="M12.324 3.36L3.68397 12L0.719971 9.04799L9.35997 0.395996L12.324 3.36ZM9.35997 23.604L12.312 20.652L3.67197 12.012L0.719971 14.952L9.35997 23.604Z"
          fill="url(#paint1_linear_153722_8269)"
        />
        <path
          d="M35.28 9.04802L32.328 12L23.688 3.36002L26.64 0.40802L35.28 9.04802ZM35.28 14.952L32.328 12L23.688 20.64L26.64 23.592L35.28 14.952Z"
          fill="url(#paint2_linear_153722_8269)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_153722_8269"
            x1="8.44904"
            y1="12.1219"
            x2="27.3014"
            y2="12.1219"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#1381FF" />
            <stop offset="0.0780981" stop-color="#1376FF" />
            <stop offset="0.289" stop-color="#125CFF" />
            <stop offset="0.5081" stop-color="#124AFF" />
            <stop offset="0.7388" stop-color="#123FFF" />
            <stop offset="1" stop-color="#123CFF" />
          </linearGradient>
          <linearGradient
            id="paint1_linear_153722_8269"
            x1="0.719455"
            y1="12"
            x2="12.3215"
            y2="12"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#13E4E8" />
            <stop offset="1" stop-color="#1381FF" />
          </linearGradient>
          <linearGradient
            id="paint2_linear_153722_8269"
            x1="23.6784"
            y1="12"
            x2="35.2805"
            y2="12"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#1381FF" />
            <stop offset="0.1287" stop-color="#4271FF" />
            <stop offset="0.2599" stop-color="#6963FF" />
            <stop offset="0.3956" stop-color="#8A58FF" />
            <stop offset="0.5345" stop-color="#A44FFF" />
            <stop offset="0.678" stop-color="#B649FF" />
            <stop offset="0.8291" stop-color="#C045FF" />
            <stop offset="1" stop-color="#C444FF" />
          </linearGradient>
        </defs>
      </svg>
    </div>

    <h2>Devspace</h2>
  </div>

  <svg
    width="21"
    height="21"
    viewBox="0 0 21 21"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    (click)="openBroadcast()"
  >
    <path
      d="M2 20.7C1.45 20.7 0.979167 20.5042 0.5875 20.1125C0.195833 19.7208 0 19.25 0 18.7V4.69999C0 4.14999 0.195833 3.67915 0.5875 3.28749C0.979167 2.89582 1.45 2.69999 2 2.69999H10.925L8.925 4.69999H2V18.7H16V11.75L18 9.74999V18.7C18 19.25 17.8042 19.7208 17.4125 20.1125C17.0208 20.5042 16.55 20.7 16 20.7H2ZM13.175 3.27499L14.6 4.67499L8 11.275V12.7H9.4L16.025 6.07499L17.45 7.47499L10.825 14.1C10.6417 14.2833 10.4292 14.4292 10.1875 14.5375C9.94583 14.6458 9.69167 14.7 9.425 14.7H7C6.71667 14.7 6.47917 14.6042 6.2875 14.4125C6.09583 14.2208 6 13.9833 6 13.7V11.275C6 11.0083 6.05 10.7542 6.15 10.5125C6.25 10.2708 6.39167 10.0583 6.575 9.87499L13.175 3.27499ZM17.45 7.47499L13.175 3.27499L15.675 0.774988C16.075 0.374988 16.5542 0.174988 17.1125 0.174988C17.6708 0.174988 18.1417 0.374988 18.525 0.774988L19.925 2.19999C20.3083 2.58332 20.5 3.04999 20.5 3.59999C20.5 4.14999 20.3083 4.61665 19.925 4.99999L17.45 7.47499Z"
      fill="black"
    />
  </svg>
</header>

<nav class="toggle-channels">
  <div (click)="toggleChannels()">
    <h3 [class.deactive]="!channelsShown">
      <svg
        width="20"
        height="18"
        viewBox="0 0 20 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4 18C2.9 18 1.95833 17.6083 1.175 16.825C0.391667 16.0417 0 15.1 0 14C0 12.9 0.391667 11.9583 1.175 11.175C1.95833 10.3917 2.9 10 4 10C5.1 10 6.04167 10.3917 6.825 11.175C7.60833 11.9583 8 12.9 8 14C8 15.1 7.60833 16.0417 6.825 16.825C6.04167 17.6083 5.1 18 4 18ZM16 18C14.9 18 13.9583 17.6083 13.175 16.825C12.3917 16.0417 12 15.1 12 14C12 12.9 12.3917 11.9583 13.175 11.175C13.9583 10.3917 14.9 10 16 10C17.1 10 18.0417 10.3917 18.825 11.175C19.6083 11.9583 20 12.9 20 14C20 15.1 19.6083 16.0417 18.825 16.825C18.0417 17.6083 17.1 18 16 18ZM4 16C4.55 16 5.02067 15.8043 5.412 15.413C5.804 15.021 6 14.55 6 14C6 13.45 5.804 12.9793 5.412 12.588C5.02067 12.196 4.55 12 4 12C3.45 12 2.97933 12.196 2.588 12.588C2.196 12.9793 2 13.45 2 14C2 14.55 2.196 15.021 2.588 15.413C2.97933 15.8043 3.45 16 4 16ZM16 16C16.55 16 17.021 15.8043 17.413 15.413C17.8043 15.021 18 14.55 18 14C18 13.45 17.8043 12.9793 17.413 12.588C17.021 12.196 16.55 12 16 12C15.45 12 14.979 12.196 14.587 12.588C14.1957 12.9793 14 13.45 14 14C14 14.55 14.1957 15.021 14.587 15.413C14.979 15.8043 15.45 16 16 16ZM10 8C8.9 8 7.95833 7.60833 7.175 6.825C6.39167 6.04167 6 5.1 6 4C6 2.9 6.39167 1.95833 7.175 1.175C7.95833 0.391667 8.9 0 10 0C11.1 0 12.0417 0.391667 12.825 1.175C13.6083 1.95833 14 2.9 14 4C14 5.1 13.6083 6.04167 12.825 6.825C12.0417 7.60833 11.1 8 10 8ZM10 6C10.55 6 11.021 5.804 11.413 5.412C11.8043 5.02067 12 4.55 12 4C12 3.45 11.8043 2.97933 11.413 2.588C11.021 2.196 10.55 2 10 2C9.45 2 8.97933 2.196 8.588 2.588C8.196 2.97933 8 3.45 8 4C8 4.55 8.196 5.02067 8.588 5.412C8.97933 5.804 9.45 6 10 6Z"
          fill="black"
        />
      </svg>

      Channels
    </h3>

    <svg
      click-stop-propagation
      (click)="toggleOverlay()"
      width="14"
      height="14"
      viewBox="0 0 14 14"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M7 14C6.71667 14 6.47933 13.904 6.288 13.712C6.096 13.5207 6 13.2833 6 13V8H1C0.716667 8 0.479 7.904 0.287 7.712C0.0956668 7.52067 0 7.28333 0 7C0 6.71667 0.0956668 6.479 0.287 6.287C0.479 6.09567 0.716667 6 1 6H6V1C6 0.716667 6.096 0.479 6.288 0.287C6.47933 0.0956668 6.71667 0 7 0C7.28333 0 7.521 0.0956668 7.713 0.287C7.90433 0.479 8 0.716667 8 1V6H13C13.2833 6 13.5207 6.09567 13.712 6.287C13.904 6.479 14 6.71667 14 7C14 7.28333 13.904 7.52067 13.712 7.712C13.5207 7.904 13.2833 8 13 8H8V13C8 13.2833 7.90433 13.5207 7.713 13.712C7.521 13.904 7.28333 14 7 14Z"
        fill="black"
      />
    </svg>
  </div>

  <output
    class="channel-wrapper no-scrollbar"
    [ngClass]="{ 'd-none': channelsNone }"
    [class.deactive]="!channelsShown"
  >
    <div class="no-scrollbar">
      <div
        *ngFor="let channel of channels"
        (click)="
          swapChannel(
            channel.id,
            channel.name,
            channel.description,
            channel.creator
          )
        "
        [ngClass]="{'active-channel': isSelected(channel)}"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <mask
            id="mask0_157289_4664"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="24"
            height="24"
          >
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_157289_4664)">
            <path
              d="M7.22504 20.325C6.7917 20.325 6.45004 20.1623 6.20004 19.837C5.95004 19.5123 5.87504 19.1417 5.97504 18.725L6.57504 16.325H4.77504C4.34171 16.325 3.9917 16.1583 3.72504 15.825C3.45837 15.4917 3.38337 15.1083 3.50004 14.675C3.58337 14.3917 3.7417 14.154 3.97504 13.962C4.20837 13.7707 4.47504 13.675 4.77504 13.675H7.25004L8.07504 10.325H5.77504C5.3417 10.325 4.9917 10.1583 4.72504 9.82499C4.45837 9.49165 4.38337 9.10832 4.50004 8.67499C4.58337 8.39165 4.7417 8.15432 4.97504 7.96299C5.20837 7.77099 5.47504 7.67499 5.77504 7.67499H8.75004L9.50004 4.64999C9.58337 4.36665 9.74171 4.13332 9.97504 3.94999C10.2084 3.76665 10.475 3.67499 10.775 3.67499C11.2084 3.67499 11.55 3.83732 11.8 4.16199C12.05 4.48732 12.125 4.85832 12.025 5.27499L11.425 7.67499H14.75L15.5 4.64999C15.5834 4.36665 15.7417 4.13332 15.975 3.94999C16.2084 3.76665 16.475 3.67499 16.775 3.67499C17.2084 3.67499 17.55 3.83732 17.8 4.16199C18.05 4.48732 18.125 4.85832 18.025 5.27499L17.425 7.67499H19.225C19.6584 7.67499 20.0084 7.84165 20.275 8.17499C20.5417 8.50832 20.6167 8.89165 20.5 9.32499C20.4167 9.60832 20.2584 9.84565 20.025 10.037C19.7917 10.229 19.525 10.325 19.225 10.325H16.75L15.925 13.675H18.225C18.6584 13.675 19.0084 13.8417 19.275 14.175C19.5417 14.5083 19.6167 14.8917 19.5 15.325C19.4167 15.6083 19.2584 15.846 19.025 16.038C18.7917 16.2293 18.525 16.325 18.225 16.325H15.25L14.5 19.35C14.4167 19.6333 14.2584 19.8667 14.025 20.05C13.7917 20.2333 13.525 20.325 13.225 20.325C12.7917 20.325 12.45 20.1623 12.2 19.837C11.95 19.5123 11.875 19.1417 11.975 18.725L12.575 16.325H9.25004L8.50004 19.35C8.4167 19.6333 8.25837 19.8667 8.02504 20.05C7.7917 20.2333 7.52504 20.325 7.22504 20.325ZM9.92504 13.675H13.25L14.075 10.325H10.75L9.92504 13.675Z"
              fill="black"
            />
          </g>
        </svg>

        <h3>
          {{ channel.name.charAt(0).toUpperCase() + channel.name.slice(1) }}
        </h3>
      </div>
    </div>
    <div (click)="toggleOverlay()">
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_157289_4671"
          style="mask-type: alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="24"
          height="24"
        >
          <rect width="24" height="24" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_157289_4671)">
          <path
            d="M12 17C12.2833 17 12.521 16.904 12.713 16.712C12.9043 16.5207 13 16.2833 13 16V13H16.025C16.3083 13 16.5417 12.904 16.725 12.712C16.9083 12.5207 17 12.2833 17 12C17 11.7167 16.904 11.479 16.712 11.287C16.5207 11.0957 16.2833 11 16 11H13V7.975C13 7.69167 12.9043 7.45833 12.713 7.275C12.521 7.09167 12.2833 7 12 7C11.7167 7 11.4793 7.09567 11.288 7.287C11.096 7.479 11 7.71667 11 8V11H7.975C7.69167 11 7.45833 11.0957 7.275 11.287C7.09167 11.479 7 11.7167 7 12C7 12.2833 7.09567 12.5207 7.287 12.712C7.479 12.904 7.71667 13 8 13H11V16.025C11 16.3083 11.096 16.5417 11.288 16.725C11.4793 16.9083 11.7167 17 12 17ZM12 22C10.6167 22 9.31667 21.7373 8.1 21.212C6.88333 20.6873 5.825 19.975 4.925 19.075C4.025 18.175 3.31267 17.1167 2.788 15.9C2.26267 14.6833 2 13.3833 2 12C2 10.6167 2.26267 9.31667 2.788 8.1C3.31267 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.31233 8.1 2.787C9.31667 2.26233 10.6167 2 12 2C13.3833 2 14.6833 2.26233 15.9 2.787C17.1167 3.31233 18.175 4.025 19.075 4.925C19.975 5.825 20.6873 6.88333 21.212 8.1C21.7373 9.31667 22 10.6167 22 12C22 13.3833 21.7373 14.6833 21.212 15.9C20.6873 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6873 15.9 21.212C14.6833 21.7373 13.3833 22 12 22ZM12 20C14.2167 20 16.1043 19.221 17.663 17.663C19.221 16.1043 20 14.2167 20 12C20 9.78333 19.221 7.89567 17.663 6.337C16.1043 4.779 14.2167 4 12 4C9.78333 4 7.896 4.779 6.338 6.337C4.77933 7.89567 4 9.78333 4 12C4 14.2167 4.77933 16.1043 6.338 17.663C7.896 19.221 9.78333 20 12 20Z"
            fill="black"
          />
        </g>
      </svg>
      <h3>Channel hinzuf端gen</h3>
    </div>
  </output>
</nav>

<nav>
  <div>
    <h3
      [class.deactive]="!directMessagesShown"
      (click)="toggleDirectMessages()"
    >
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3.85 15.1C4.7 14.45 5.65 13.9373 6.7 13.562C7.75 13.1873 8.85 13 10 13C11.15 13 12.25 13.1873 13.3 13.562C14.35 13.9373 15.3 14.45 16.15 15.1C16.7333 14.4167 17.1877 13.6417 17.513 12.775C17.8377 11.9083 18 10.9833 18 10C18 7.78333 17.221 5.89567 15.663 4.337C14.1043 2.779 12.2167 2 10 2C7.78333 2 5.896 2.779 4.338 4.337C2.77933 5.89567 2 7.78333 2 10C2 10.9833 2.16267 11.9083 2.488 12.775C2.81267 13.6417 3.26667 14.4167 3.85 15.1ZM10 11C9.01667 11 8.18733 10.6627 7.512 9.988C6.83733 9.31267 6.5 8.48333 6.5 7.5C6.5 6.51667 6.83733 5.68733 7.512 5.012C8.18733 4.33733 9.01667 4 10 4C10.9833 4 11.8127 4.33733 12.488 5.012C13.1627 5.68733 13.5 6.51667 13.5 7.5C13.5 8.48333 13.1627 9.31267 12.488 9.988C11.8127 10.6627 10.9833 11 10 11ZM10 20C8.61667 20 7.31667 19.7373 6.1 19.212C4.88333 18.6873 3.825 17.975 2.925 17.075C2.025 16.175 1.31267 15.1167 0.788 13.9C0.262667 12.6833 0 11.3833 0 10C0 8.61667 0.262667 7.31667 0.788 6.1C1.31267 4.88333 2.025 3.825 2.925 2.925C3.825 2.025 4.88333 1.31233 6.1 0.787C7.31667 0.262333 8.61667 0 10 0C11.3833 0 12.6833 0.262333 13.9 0.787C15.1167 1.31233 16.175 2.025 17.075 2.925C17.975 3.825 18.6873 4.88333 19.212 6.1C19.7373 7.31667 20 8.61667 20 10C20 11.3833 19.7373 12.6833 19.212 13.9C18.6873 15.1167 17.975 16.175 17.075 17.075C16.175 17.975 15.1167 18.6873 13.9 19.212C12.6833 19.7373 11.3833 20 10 20ZM10 18C10.8833 18 11.7167 17.871 12.5 17.613C13.2833 17.3543 14 16.9833 14.65 16.5C14 16.0167 13.2833 15.6457 12.5 15.387C11.7167 15.129 10.8833 15 10 15C9.11667 15 8.28333 15.129 7.5 15.387C6.71667 15.6457 6 16.0167 5.35 16.5C6 16.9833 6.71667 17.3543 7.5 17.613C8.28333 17.871 9.11667 18 10 18ZM10 9C10.4333 9 10.7917 8.85833 11.075 8.575C11.3583 8.29167 11.5 7.93333 11.5 7.5C11.5 7.06667 11.3583 6.70833 11.075 6.425C10.7917 6.14167 10.4333 6 10 6C9.56667 6 9.20833 6.14167 8.925 6.425C8.64167 6.70833 8.5 7.06667 8.5 7.5C8.5 7.93333 8.64167 8.29167 8.925 8.575C9.20833 8.85833 9.56667 9 10 9Z"
          fill="black"
        />
      </svg>

      Direktnachrichten
    </h3>
  </div>

  <output class="direct-messages">
    <div
      [ngClass]="{ 'd-none': directMessagesNone }"
      [class.deactive]="!directMessagesShown"
      class="direct-messages-list"
    >
      <div *ngFor="let user of users" [ngClass]="{'active-user-chat': isSelectedUser(user)}">
        <article (click)="emitPartner(user.id)">
          <figure *ngIf="user?.uid" class="user-avatar">
            <img
              [src]="user?.avatar || 'assets/avatars/profile.png'"
              [alt]="user?.name || ''"
            />
            @if (user?.status) {
            <img src="./../../../assets/img/online.png" alt="" />
            } @else {
            <img src="./../../../assets/img/offline.svg" alt="" />
            }
          </figure>
          <p>{{ user?.name || "" }}  @if(user.uid === getUserId()) { (Du) }</p>
        </article>
      </div>
    </div>
  </output>
</nav>
