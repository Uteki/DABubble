<app-header
  [users]="userList"
  [channels]="channelList"
  (partnerSelected)="onPartnerSelected($event)"
  (toggleRequest)="toggleDirect($event)"
></app-header>

<section
  class="dashboard"
  [class.channels-closed]="channelsHidden"
  [class.thread-closed]="threadHidden"
>
  <button
    type="button"
    class="workspace-toggle"
    (click)="toggleChannels()"
    [attr.aria-label]="
      channelsHidden ? 'Workspace-Menü öffnen' : 'Workspace-Menü schließen'
    "
    [class.is-open]="!channelsHidden"
  >
    <span class="icon" [class.icon--close]="!channelsHidden"></span>
    <span class="label">
      {{
        channelsHidden ? "Workspace-Menü öffnen" : "Workspace-Menü schließen"
      }}
    </span>
  </button>
  <app-channels
    [users]="userList"
    [channels]="channelList"
    [selectedPartner]="selectedPartner"
    (partnerSelected)="onPartnerSelected($event)"
    (toggleRequest)="toggleDirect($event)"
    (broadcast)="toggleBroadcast()"
    [class.is-hidden-final]="channelsHidden"
    [class.is-closing]="isClosing"
    [class.is-opening]="isOpening"
  >
  </app-channels>
  <app-chat
    [users]="userList"
    [channels]="channelList"
    [class.is-hidden]="chat"
    (partnerSelected)="onPartnerSelected($event)"
    (threadSelected)="onThreadSelected($event)"
    (toggleRequestDirect)="toggleDirect($event)"
    (toggleRequest)="toggleThread($event)"
  ></app-chat>
  <app-message
    [users]="userList"
    [channels]="channelList"
    [partner]="selectedPartner"
    [class.is-hidden]="direct"
  ></app-message>
  <app-thread
    [users]="userList"
    [channels]="channelList"
    [messageId]="selectedThreadId"
    (toggleRequest)="toggleThread($event)"
    [class.is-thread-opening]="isThreadOpening"
    [class.is-thread-closing]="isThreadClosing"
    [class.is-thread-hidden-final]="threadHidden && !isThreadClosing"
  >
  </app-thread>
  <app-broadcast
    [users]="userList"
    [channels]="channelList"
    [class.is-hidden]="broadcast"
  >
  </app-broadcast>
</section>
