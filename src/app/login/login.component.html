<div class="login-container" [class.intro-active]="!showLogin">
  <div class="logo-wrapper" [class.logo-moved]="showLogin">
    <img
      *ngIf="!showLogin"
      src="./../../assets/icons/logo.png"
      alt="Logo"
      class="logo logo-intro"
    />
    <img
      *ngIf="showLogin"
      src="./../../assets/icons/logo-DABubble.png"
      alt="DABubble"
      class="logo logo-small"
    />
    <span *ngIf="showLogin" class="logo-text"></span>
  </div>
  <div class="signup-hint" [class.show]="showLogin">
    <span class="signup-text">Neu bei DABubble?</span>
    <a (click)="goToRegister()" class="signup-link">Konto erstellen</a>
  </div>
  <div class="login-form-wrapper" [class.show]="showLogin">
    <div class="login-card">
      <h2>Anmeldung</h2>
      <p class="subtitle">
        Wir empfehlen dir, die E-Mail-Adresse zu nutzen, die du bei der Arbeit
        verwendest.
      </p>
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <div class="input-wrapper">
            <span class="input-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M2 6L10 11L18 6" stroke="#686868" stroke-width="1.5" />
                <rect
                  x="2"
                  y="5"
                  width="16"
                  height="11"
                  rx="2"
                  stroke="#686868"
                  stroke-width="1.5"
                  fill="none"
                />
              </svg>
            </span>
            <input
              type="email"
              formControlName="email"
              placeholder="beispielname@email.com"
              class="form-input"
              [class.error]="
                loginForm.get('email')?.touched &&
                loginForm.get('email')?.invalid
              "
            />
            <div
              *ngIf="
                loginForm.get('email')?.touched &&
                loginForm.get('email')?.invalid
              "
              class="error-text"
            >
              <span *ngIf="loginForm.get('email')?.errors?.['required']">
                E-Mail ist erforderlich.
              </span>
              <span *ngIf="loginForm.get('email')?.errors?.['email']">
                Ungültige E-Mail-Adresse.
              </span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="input-wrapper">
            <span class="input-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <rect
                  x="5"
                  y="9"
                  width="10"
                  height="8"
                  rx="1"
                  stroke="#686868"
                  stroke-width="1.5"
                  fill="none"
                />
                <path
                  d="M7 9V6C7 4.34315 8.34315 3 10 3C11.6569 3 13 4.34315 13 6V9"
                  stroke="#686868"
                  stroke-width="1.5"
                />
              </svg>
            </span>
            <input
              type="password"
              formControlName="password"
              placeholder="Passwort"
              class="form-input"
              [class.error]="
                loginForm.get('password')?.touched &&
                loginForm.get('password')?.invalid
              "
            />
            <div
              *ngIf="
                loginForm.get('password')?.touched &&
                loginForm.get('password')?.invalid
              "
              class="error-text"
            >
              <span *ngIf="loginForm.get('password')?.errors?.['required']">
                Passwort ist erforderlich.
              </span>
              <span *ngIf="loginForm.get('password')?.errors?.['minlength']">
                Passwort muss mindestens 6 Zeichen lang sein.
              </span>
            </div>
          </div>
        </div>
        <a (click)="goToSendMail()" class="forgot-password"
          >Passwort vergessen?</a
        >
        <div class="divider">
          <span>ODER</span>
        </div>
        <button type="button" (click)="loginWithGoogle()" class="google-login">
          <img
            src="./../../assets/icons/google.png"
            alt="Google"
            class="google-icon"
          />
          Anmelden mit Google
        </button>
        <div class="button-group">
          <button type="submit" class="btn-primary">Anmelden</button>
          <button type="button" (click)="guestLogin()" class="btn-secondary">
            Gäste-Login
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="footer-links" [class.show]="showLogin">
    <a (click)="goTolegalNotice()" class="footer-link">Impressum</a>
    <a (click)="goToPrivacyPolicy()" class="footer-link">Datenschutz</a>
  </div>
</div>
